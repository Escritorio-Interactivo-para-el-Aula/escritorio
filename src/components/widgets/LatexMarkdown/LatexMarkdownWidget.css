/* src/components/widgets/LatexMarkdown/LatexMarkdownWidget.css */

.latex-markdown-widget {
  @apply w-full h-full flex;
}

.editor-pane {
  @apply w-1/2 h-full flex flex-col bg-gray-800 border-r border-gray-700;
}

.mode-selector {
  @apply flex-shrink-0 flex;
}

.mode-selector button {
  @apply w-1/2 p-2 text-center font-semibold text-gray-400 bg-gray-700 transition-colors;
}

.mode-selector button:hover {
  @apply bg-gray-600 text-gray-200;
}

.mode-selector button.active {
  @apply bg-blue-600 text-white;
}

.editor-textarea {
  @apply flex-grow w-full p-4 font-mono text-sm resize-none outline-none border-0;
  @apply bg-gray-900 text-gray-300;
}

.preview-container {
  @apply w-1/2 h-full flex flex-col;
}

.preview-toolbar {
  @apply flex-shrink-0 flex items-center justify-end gap-2 p-2 bg-gray-100 border-b border-gray-200;
}

.preview-toolbar button {
  @apply p-1.5 rounded-md text-gray-600 transition-colors;
}

.preview-toolbar button:hover {
  @apply bg-gray-300 text-gray-900;
}

.feedback-message {
  @apply text-sm text-gray-700 mr-auto px-2;
}

.preview-pane {
  @apply h-full p-6 bg-white overflow-auto;
  @apply prose max-w-none;
}

.preview-pane .katex-display {
  @apply overflow-auto;
}

.error-message {
  @apply text-red-600 font-mono text-sm bg-red-50 p-4 rounded-md;
}

.friendly-error-pane {
  @apply bg-yellow-50 border border-yellow-200 rounded-md p-4 text-sm text-yellow-800;
}

.friendly-error-pane h3 {
  @apply font-semibold mb-2;
}

.friendly-error-pane h4 {
  @apply font-semibold mt-3 mb-1;
}

/* ---------- Impresión a PDF ---------- */

#print-root {
  display: none;
}

/* Reglas de impresión robustas */
@media print {
  @page {
    size: A4;
    margin: 18mm;
  }

  /* Oculta todo lo que sea hijo directo de body excepto #print-root */
  body > *:not(#print-root) {
    display: none !important;
  }

  #print-root {
    display: block !important;
    background: #ffffff !important;
  }

  html, body {
    background: #ffffff !important;
    color: #000000 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* El propio #print-root tiene la clase "prose" */
  #print-root.prose {
    max-width: none !important;
    color: #000000 !important;
  }

  /* KaTeX */
  .katex .katex-mathml { display: none !important; }
  .katex .katex-html { display: inline-block !important; }

  /* Evitar cortes de página en elementos clave */
  h1, h2, h3, h4, h5, h6,
  table, img, .katex-display, blockquote {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  thead { display: table-header-group; }
}
